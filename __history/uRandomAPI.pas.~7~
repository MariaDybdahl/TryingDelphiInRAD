unit uRandomAPI;

interface
    uses
    SysUtils, HTTPApp, IdHTTP, XMLDoc, XMLIntf, ActiveX,
             System.Classes,   IdSSLOpenSSL,
  System.JSON,          // ← JSON-håndtering (TJSONObject, TJSONArray, m.m.)
  Vcl.Dialogs;          // ← ShowMessage og dialoger

const ServerAddress = 'http://randomuser.me/api/';

  var
//    CoResult: Integer;
 http: TIdHTTP;
 Response: string;
 ssl: TIdSSLIOHandlerSocketOpenSSL;
//    Query: String;
//    Buffer: String;
//    Doc: IXMLDocument;
//    Node: IXMLNode;
//
//ServerAddress := 'https://randomuser.me/api/';
FullURL: string;
    function GetHTTP: TStringList;

implementation


function GetHTTP: TStringList;
  begin
     FullURL := ServerAddress + '?results=10';
     Result := TStringList.Create;
     http:= TIdHTTP.Create(nil);
       ssl := TIdSSLIOHandlerSocketOpenSSL.Create(nil);
     try
        http.IOHandler := ssl;
    http.HandleRedirects := True;
           Response:= http.Get(FullURL);
           Result.Text:= Response;
     finally
       http.Free;
     end;

  end;
end.
